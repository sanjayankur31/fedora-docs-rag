
= Fedora Community Architecture (CommArch)
Justin W. Flory; Fedora community
:page-authors: {author}, {author_2}
:license-image: https://licensebuttons.net/l/by/4.0/88x31.png
:license-legal: https://creativecommons.org/licenses/by/4.0/

Welcome to the Fedora documentation site for community architecture.
This part of Fedora Docs is the responsibility of the xref:council::fca.adoc[Fedora Community Architect].


[[about]]
== About this site

This documentation portal captures information about the Fedora community.
This includes information about some teams and community efforts, but it also gathers information about processes and how to contribute.
This site does not replace other documentation, but acts as a supplement or pointer to other existing content, when it exists.


[[commarch]]
== What is community architecture (CommArch)?

Community architecture, sometimes shortened as "CommArch", is a sub-discipline of https://en.wikipedia.org/wiki/Information_architecture[information architecture].
It is a term with historical relevance in Open Source communities, yet there is no commonly-agreed definition of what it means.
Here is an oversimplified attempt to explain it in a Fedora context:

____
Community architecture refers to the set of practices and labor involved in supporting a community across multiple stages of growth and development.
This labor includes a design-centered approach to launching new initiatives and efforts in the community, as well as ongoing maintenance and stewardship of existing efforts.
It typically involves working with a large, diverse group of stakeholders to achieve common goals and realize overlapping ambitions across the project.
____

This is an imperfect definition and likely to evolve.


[[contribute]]
== How to contribute

The best way for now is to https://gitlab.com/fedora/council/community-architecture/-/issues[open an issue on GitLab] with any questions or ideas.


[[legal]]
== Legal

[link={license-legal}]
image::{license-image}[License: Creative Commons Attribution 4.0 International (CC BY 4.0)]

All content in the Fedora Community Architecture website is shared under the {license-legal}[Creative Commons Attribution 4.0 International (CC BY 4.0) license].


Last updated in {year}.

= Unofficial Fedora Community Appendix

This page is an unofficial Fedora Community Appendix.
Have you ever wondered what an acronym meant, or what a certain phrase or word in Fedora means?
This is an open appendix for Fedorans to collectively define and share our unique community culture.

[[f]]
== F

Fedoran(s)::
Sometimes written "Fedorian".
A Fedoran is a Fedora contributor and community member.
Fedorans are a group of Fedora contributors and community members.

Four Foundations::
Also known as the "Four F's".
Freedom, Friends, Features, First.
These are the four values of the Fedora community.

= Search Fedora Package Repositories Using Sourcegraph
Roseline Bassey; Fedora community
:page-authors: {author}, {author_2}

As our collection of open source packages grows, there is a need for ways to make searching packages within our dist-git repository much easier.
In 2022, the people at Sourcegraph teamed up with our Fedora community to integrate their advanced free Code Search engine into our massive distribution package repositories, which now includes over 38,000 packages.
With Sourcegraph's Code Search, our developers, contributors, and maintainers can search our dist-git repository for specific RPM specfiles, module and container definitions, Fedora-specific patches, tests, and many more, all in one place, ultimately reducing the time spent searching for files.


[[what]]
== What is Sourcegraph?

https://sourcegraph.com/[Sourcegraph] is a code intelligence platform.
You can think of it as a search engine for code.
It can be used to search code across all code hosts, repositories, and branches.
Sourcegraph has many great features, such as code intelligence, code insights, batch changes, and https://sourcegraph.com/supporting-open-source[Cody] - an AI Coding Assistant, but at its core, it is a Code Search tool.
In this article, we will explore how to use Code Search for https://src.fedoraproject.org[src.fedoraproject.org] repositories, also known as Fedora dist-git.


[[code-search]]
== Using Code Search For Fedora Package Repositories

Code search is a powerful search capability in Sourcegraph for searching code from a single interface.
It supports search filtering by file type, repository, and language.
This helps in refining search results.

Sourcegraph provides both a https://sourcegraph.com/search?q=context:global+repo:%5Esrc.fedoraproject.org/&patternType=regexp[web app] and https://sourcegraph.com/docs/cli/quickstart[CLI] interface.
When using the Sourcegraph web app, you will need to start each search with: `repo:^src.fedoraproject.org` before entering any search queries.

.Sourcegraph code search interface
image::sourcegraph/code-search.png[Sourcegraph interface]


[[filter-file]]
== Filter Search: Using `file` Keyword to Find Specfiles

The `file` keyword returns results from files that match the specified file path.
The following query searches all repositories for files ending in `.spec` that contain the term `dnf5`.
The use of the `file` keyword simplifies the task of locating specfiles.

----
repo:^src\.fedoraproject\.org/ file:\.spec$ dnf5
----

.Search for specfiles
image::sourcegraph/filter-file.png[find specfiles using the files keyword]


[[filter-lang]]
== Use the `lang` Filter to Find a Fedora Repository to Contribute to

The `lang` keyword is used to filter search results by programming language.

The following query searches our dist-git repositories for files written in Markdown with instances of the term `contributing`.
This is great for people seeking to assist with projects in need of contributions.

----
repo:^src\.fedoraproject\.org/ lang:markdown contributing
----

.Search for files written in Markdown
image::sourcegraph/contributing.png[find projects to contribute to using the lang keyword]


[[filter-disable-debug]]
== Search for Specfiles Disabling Debug Packages

By using the query `++"%global debug_package %{nil}"++`, you can search for specfiles that contain the line where the `debug_package` macro is set to `nil`.
This line disables the creation of a debug package in the build process.

.Search for specfiles disabling debug packages
image::sourcegraph/debug.png[find files that disable debug package]


[[filter-licenses]]
== Find Repositories Using Popular OSI-approved Licenses

The following query will scan all the repositories for software that is compatible with the https://opensource.org/definition-annotated[“Open Source Definition” (OSD)].

----
repo:^src.fedoraproject.org/ lang:"RPM Spec" License: ^.*apache|bsd|gpl|lgpl|mit|mpl|cddl|epl.*$
----

.License search
image::sourcegraph/license.png[search for License]


[[filter-vulnerabilities]]
== Find Files with a Vulnerable Version of Log4j

This query will find any files that are possibly vulnerable to CVE-2021-44228, aka Log4j.
Note that false positives can happen, so you should investigate further before making a conclusion on whether a package is actually vulnerable or not.
You can also search for other vulnerabilities that can then be reported to project maintainers.

----
repo:^src.fedoraproject.org/ org.apache.logging.log4j 2.((0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15)(.[0-9]+)) count:all
----

.Search for log4j
image::sourcegraph/log4j.png[Search for log4j]


[[conclusion]]
== Conclusion

For more search queries, see https://sourcegraph.com/docs/code-search/queries#search-query-syntax[Sourcegraph official documentation].

Having Sourcegraph Code Search integrated into our dist-git repository is a great addition to our engineering productivity toolkit.
With Code Search's powerful capabilities, our contributors and users can efficiently search across our entire universe of open source repositories from a single place.

= Participate in the Fedora community

The Fedora community is large and decentralized.
You can spend several years in Fedora and still never know everything happening at once.
Even though the community is so big and spread out, there are common tips and methods you can follow to participate in Fedora.
This section is a guide to explain the different steps and phases of joining as a new contributor to Fedora, regardless of where you want to focus your contributions.

You can understand the journey of participation in these key phases:

* xref:phase0-bootstrap.adoc[Phase 0: Bootstrap]
* Phase 1: Introduce (_coming soon_)
* Phase 2: Step in (_coming soon_)
* Phase 3: Lead (_coming soon_)

See the page for each phase for more information.
Each phase is meant to be followed sequentially.

= Phase 0: Bootstrap
:page-aliases: commops::contribute/first-steps.adoc

There are specific tools, services, and applications we use to get work done in Fedora.
Setting yourself up in these tools is an important step in setting yourself up for successful contributions.
Before you can do meaningful work, you need to get through these initial steps to *bootstrap yourself* for successful participation.


[[fas]]
== Fedora Account System (FAS)

*Register an account here: {url-accounts}*

Every Fedora contributor needs an account in the Fedora Account System, often shortened to "FAS".
A FAS account is the pre-requisite for accessing most services and tools that we use in Fedora.
Generally, a FAS account is the only account you will need to participate in Fedora; several other services, tools, and apps we use will use a FAS account instead of requiring you to make a new account.

[[fas-fpca]]
=== Sign the Fedora Project Contributor Agreement (FPCA)

*To sign the FPCA, go to your Settings page from link:{url-accounts}[FAS], choose _Agreements_, and sign the agreement.*

After you create a FAS account, you need to "sign" the xref:legal::fpca.adoc[Fedora Project Contributor Agreement], or FPCA.
When you sign this agreement, you are agreeing that the contributions you make to Fedora are under Fedora's default Open Source licenses, if they are not already licensed.
This agreement does not take away anything from you, and you still own your contributions that you make to Fedora.

For Fedora to accept contributions you make to the project, you must first sign the FPCA.
Your journey in Fedora always starts first with the FPCA.

See this summary from the xref:legal::fpca.adoc[FPCA page]:

____
The only purpose of the Fedora Project Contributor Agreement (FPCA) is to ensure that Fedora has default permission to use your contributions under a Fedora-allowed license (either MIT for software or CC BY-SA for content).
You may contribute under any other allowed Fedora license; the FPCA simply sets a default if no license is specified.

Nothing in the FPCA takes anything away from you.
You retain ownership of your contributions.
____

[[fas-configure]]
=== Configure your FAS account

*Complete your FAS account profile from your Settings page in link:{url-accounts}[FAS].*

Next, after you sign the FPCA, set up your FAS account by filling out your profile.
There are various fields to describe yourself in your FAS profile that help others in the community know you better:

* Name
* Profile picture or avatar
* Pronouns
* Preferred language
* Time zone
* Website or blog
* IRC or Matrix usernames
* Git forge usernames (e.g. GitHub, GitLab)

Some services, tools, and apps in Fedora use this information to make collaboration easier.
For example, when you set your time zone, some tools will show your local time, so someone in a different time zone will know if they are trying to reach you when you might be offline or asleep.
Furthermore, some tools will use your IRC or Matrix username to let you use chat bots or automated tools to give kudos to other Fedora contributors (more about that later).
Your FAS profile picture or avatar is used as a profile picture in other services, like the Fedora Wiki, Pagure, Bodhi, and more.

Completing your FAS profile makes it easier for others to collaborate and work together with you.
Please complete this important step when setting up your account for the first time.


[[collab]]
== Collaboration tools

Like many Open Source communities, Fedora has key platforms to connect, collaborate, and work together with other Fedora contributors.
We have two primary platforms: an *asynchronous* and a *synchronous* platform.
Asynchronous means the communication does not happen in real-time and replies might be spaced out over time.
This could look like an online forum, a mailing list, or a Q&A website.
Synchronous means the communication is happening in real-time, like a conversation.
This could look like an online chat room, a video conference meeting, or an in-person conversation.

Fedora is a big community and there are multiple asynchronous and synchronous platforms to collaborate with others.
However, there are two _primary_ platforms we recommend for all new contributors to reach out to others: Fedora Discussion and Fedora Chat.

[[collab-discussion]]
=== Fedora Discussion (asynchronous)

*Sign into Fedora Discussion using your FAS account: {url-discussion}*

Fedora uses an online web forum called _Discourse_ for our asynchronous communications.
_Fedora Discussion_ is the name of our Discourse forum.
Anyone with a FAS account can sign into Fedora Discussion and post a new topic or reply to existing topics.
Several teams use Fedora Discussion as part of their everyday workflow.

Once you sign in with your FAS account, there are two next steps:

. Complete link:{url-discussion}/my/preferences/profile[your Fedora Discussion profile] (e.g. add a bio, set your time zone, location, pronouns, etc.).
. link:{url-discussion}/tag/introductions[Introduce yourself] to the community so folks can get to know you better.

[[collab-chat]]
=== Fedora Chat (synchronous)

*Sign into Fedora Chat using your FAS account: {url-chat}*

Fedora uses a decentralized chat protocol called _Matrix_ for our synchronous communications.
_Fedora Chat_ is the name of our hosted Matrix platform.
Anyone with a FAS account can sign into Fedora Chat and join different chat rooms and team discussions in the Fedora community.

Alternatively, if you already use Matrix on a different homeserver, you can use your own Matrix account and join the link:{url-chat-space}[Fedora Space].
If you use link:{url-chat}[Fedora Chat], you will automatically be a member of the Fedora Space without any extra steps.

Once you get your Matrix account set up, you can introduce yourself in the introductions chat room:

* From Fedora Chat: link:{url-chat}/#/room/#intros:fedoraproject.org[#intros:fedoraproject.org]
* From any other Matrix client: https://matrix.to/#/#intros:fedoraproject.org[#intros:fedoraproject.org]
//** Phase 1: Introduce
//** Phase 2: Step in
//** Phase 3: Lead
